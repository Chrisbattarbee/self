types:
  definitions:
    default-package: com.chrisbattarbee.self.calories
    objects:

      FoodEntry:
        fields:
          name: string
          calories: double
          carbohydrates: double
          fat: double
          protein: double
          sodium: double
          sugar: double
          quantity: double
          unit: string

      Meal:
        fields:
          entries: list<FoodEntry>
          name: string

      MacroGoals:
        fields:
          calories: double
          carbohydrates: double
          fat: double
          protein: double
          sodium: double
          sugar: double

    errors:
      MealsNotFound:
        namespace: Calories
        code: NOT_FOUND
        safe-args:
          date: string

services:
  CalorieService:
    name: Calorie Tracking Service
    package: com.chrisbattarbee.self.calories
    base-path: /calories
    docs: |
      API for retrieving and adding calorie information.

    endpoints:
      updateDailyCalories:
        http: PUT /calories/{date}
        args:
          date: string
          updateDayRequest:
            param-type: body
            type: list<Meal>
      updateDailyMacroGoals:
        http: PUT /macrogoals/{date}
        args:
          date: string
          updateMacroGoalsRequest:
            param-type: body
            type: MacroGoals